# MMORPG Architecture

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è MMORPG —Å WebSocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- 6 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- Real-time WebSocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Gateway
- PostgreSQL + Redis –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Å—Å–∏–π
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è LLM-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```mermaid
graph TB
    Client[Web Client] --> Gateway[Gateway Service :3000]
    Gateway --> Auth[Auth Service :3001]
    Gateway --> World[World Service :3002]
    Gateway --> Combat[Combat Service :3003]
    Gateway --> Resources[Resources Service :3004]
    Gateway --> Craft[Craft Service :3005]
    
    Auth --> DB[(PostgreSQL)]
    World --> DB
    Combat --> DB
    Resources --> DB
    Craft --> DB
    
    Gateway --> Redis[(Redis Sessions)]
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
/mmorpg-game
‚îú‚îÄ‚îÄ /services                # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ /gateway            # WebSocket hub, —Ä–æ—É—Ç–∏–Ω–≥ (Port 3000)
‚îÇ   ‚îú‚îÄ‚îÄ /auth              # JWT auth, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Port 3001)
‚îÇ   ‚îú‚îÄ‚îÄ /world             # –ó–æ–Ω—ã, –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ (Port 3002)
‚îÇ   ‚îú‚îÄ‚îÄ /combat            # –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (Port 3003)
‚îÇ   ‚îú‚îÄ‚îÄ /resources         # –†–µ—Å—É—Ä—Å—ã, —Å–±–æ—Ä (Port 3004)
‚îÇ   ‚îú‚îÄ‚îÄ /craft             # –ö—Ä–∞—Ñ—Ç, —Ä–µ—Ü–µ–ø—Ç—ã (Port 3005)
‚îÇ   ‚îî‚îÄ‚îÄ /database          # –°—Ö–µ–º–∞ –ë–î, –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ /client                # –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ /engine            # –†–µ–Ω–¥–µ—Ä, —Ñ–∏–∑–∏–∫–∞, –≤–≤–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ /systems           # –ò–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ /ui                # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ /shared                # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏ —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ /constants         # –ò–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ /types             # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ /utils             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ /docs                  # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è LLM
‚îÇ   ‚îú‚îÄ‚îÄ /architecture      # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ /services          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ /contexts          # –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –¥–ª—è LLM
‚îÇ   ‚îî‚îÄ‚îÄ /workflows         # –ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ /tools                 # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

## –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏ –∏—Ö —Ñ—É–Ω–∫—Ü–∏–∏

### Gateway Service (Port 3000) üåê
**–†–æ–ª—å**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö—É–± –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- WebSocket —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- HTTP proxy –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤  
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏–≥—Ä–æ–∫–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
**–°–æ–±—ã—Ç–∏—è**: –í—Å–µ WebSocket —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Gateway

### Auth Service (Port 3001) üîê
**–†–æ–ª—å**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- JWT —Ç–æ–∫–µ–Ω—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: PostgreSQL
**API**: `/api/register`, `/api/login`, `/api/validate`

### World Service (Port 3002) üó∫Ô∏è
**–†–æ–ª—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã–º –º–∏—Ä–æ–º
- –ó–æ–Ω—ã 2048x2048 –ø–∏–∫—Å–µ–ª–µ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏–≥—Ä–æ–∫–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –ø–æ—Ä—Ç–∞–ª–æ–≤ –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –ö–æ–ª–ª–∏–∑–∏–∏ –∏ —Ñ–∏–∑–∏–∫–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: PostgreSQL
**–°–æ–±—ã—Ç–∏—è**: `player.move`, `zone.change`, `portal.enter`

### Combat Service (Port 3003) ‚öîÔ∏è
**–†–æ–ª—å**: –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- –†–∞—Å—á–µ—Ç —É—Ä–æ–Ω–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- PvP/PvE –ª–æ–≥–∏–∫–∞
- –°—Ç–∞—Ç—É—Å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- –°–∏—Å—Ç–µ–º–∞ —Å–º–µ—Ä—Ç–∏/–≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: World (–ø–æ–∑–∏—Ü–∏–∏), PostgreSQL
**–°–æ–±—ã—Ç–∏—è**: `combat.attack`, `combat.result`, `combat.death`

### Resources Service (Port 3004) üå≤
**–†–æ–ª—å**: –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ú–µ—Ö–∞–Ω–∏–∫–∏ —Å–±–æ—Ä–∞
- –¢–∞–π–º–µ—Ä—ã –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
- –°–ª—É—á–∞–π–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ —Å–ø–∞–≤–Ω–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: World (–ø–æ–∑–∏—Ü–∏–∏), PostgreSQL
**–°–æ–±—ã—Ç–∏—è**: `resource.gather`, `resource.spawned`, `resource.despawned`

### Craft Service (Port 3005) üî®
**–†–æ–ª—å**: –°–∏—Å—Ç–µ–º–∞ –∫—Ä–∞—Ñ—Ç–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∞—Ñ—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è –Ω–∞–≤—ã–∫–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: PostgreSQL (inventories, recipes)
**–°–æ–±—ã—Ç–∏—è**: `craft.item`, `craft.result`

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
```sql
users           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (id, username, password_hash)
characters      # –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ (user_id, name, zone_id, x, y, stats)
zones          # –ò–≥—Ä–æ–≤—ã–µ –∑–æ–Ω—ã (id, name, dimensions)
items          # –ü—Ä–µ–¥–º–µ—Ç—ã (id, name, type, stats, stackable)
inventories    # –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏ (character_id, item_id, quantity, slot)
recipes        # –†–µ—Ü–µ–ø—Ç—ã –∫—Ä–∞—Ñ—Ç–∞ (ingredients, result, skill_level)
resources      # –†–µ—Å—É—Ä—Å—ã –≤ –º–∏—Ä–µ (zone_id, type, x, y, active)
portals        # –ü–æ—Ä—Ç–∞–ª—ã –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏ (zone_id, coordinates, target)
```

## –ü—Ä–æ—Ç–æ–∫–æ–ª –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä

### WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è
```javascript
// Client ‚Üí Server
{type: 'player.move', x, y}
{type: 'combat.attack', targetId}
{type: 'resource.gather', resourceId}
{type: 'craft.item', recipeId}
{type: 'portal.enter', portalId}

// Server ‚Üí Client  
{type: 'world.update', players, resources}
{type: 'zone.change', zoneId, spawnX, spawnY}
{type: 'combat.result', damage, target}
{type: 'inventory.update', items, slotsUsed}
{type: 'resource.spawned', resourceId, x, y, type}
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker & Docker Compose
- Node.js 18+ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone <repo-url>
cd mmorpg-game

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up --build

# –î–æ—Å—Ç—É–ø –∫ –∏–≥—Ä–µ
open http://localhost:8080
```

### –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- **3000** - Gateway (WebSocket)
- **3001** - Auth Service
- **3002** - World Service  
- **3003** - Combat Service
- **3004** - Resources Service
- **3005** - Craft Service
- **8080** - Web Client (Nginx)
- **5432** - PostgreSQL
- **6379** - Redis

## ü§ñ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å LLM

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è LLM
1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ–∑–∞–≤–∏—Å–∏–º
2. **–ß–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - —Å–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
4. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
```javascript
/services/[name]/
‚îú‚îÄ‚îÄ index.js     # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ routes.js    # HTTP –º–∞—Ä—à—Ä—É—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
‚îú‚îÄ‚îÄ models.js    # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ utils.js     # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –¥–ª—è LLM –∑–∞–¥–∞—á

#### üéØ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤ `/docs/contexts/`

**combat-task.md** - –î–ª—è –±–æ–µ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫
- Combat Service + –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- WebSocket —Å–æ–±—ã—Ç–∏—è
- –°—Ö–µ–º–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

**inventory-task.md** - –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º  
- –¢–∞–±–ª–∏—Ü—ã items, inventories
- Craft Service –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**world-task.md** - –î–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞
- World Service + –∑–æ–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ –ø–æ—Ä—Ç–∞–ª–æ–≤
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**new-service.md** - –®–∞–±–ª–æ–Ω –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Gateway —Ä–æ—É—Ç–∏–Ω–≥

### –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Å LLM

#### 1. –í—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```bash
# –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –∑–∞–¥–∞—á–∏
Task: "–î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≥–∏–ª—å–¥–∏–π"
Context: new-service.md + world-task.md

# –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ñ–∞–π–ª—ã
- /docs/contexts/new-service.md
- /services/world/index.js  
- /shared/constants/game.js
- /services/database/migrations.sql
```

#### 2. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
```markdown
**Context**: New Service Development
**Task**: Implement Guild System
**Files**: [–ø—Ä–∏–ª–æ–∂–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã]

**Requirements**:
- New microservice on port 3006
- Guild creation, join, leave
- Guild chat system
- Integration with existing player system

**Constraints**:
- Follow existing service patterns
- Use JWT authentication
- Add WebSocket events via Gateway
```

#### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ API
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose.yml
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ —Å–æ–±—ã—Ç–∏–π

### –¢–∏–ø–æ–≤—ã–µ LLM –∑–∞–¥–∞—á–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: `new-service.md` + `architecture/overview.md`
**–í—Ä–µ–º—è**: ~15 –º–∏–Ω—É—Ç

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å + `game.js` –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã  
**–í—Ä–µ–º—è**: ~10 –º–∏–Ω—É—Ç

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –ü—Ä–æ–±–ª–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å + —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
**–í—Ä–µ–º—è**: ~5 –º–∏–Ω—É—Ç

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –¶–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å + –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
**–í—Ä–µ–º—è**: ~20 –º–∏–Ω—É—Ç

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `/docs/architecture/` - –°—Ö–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- `/docs/services/` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤  
- `/docs/workflows/` - –ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –î–ª—è LLM
- `/docs/contexts/` - –ì–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- `/shared/constants/` - –ò–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å–æ–±—ã—Ç–∏—è
- Service README —Ñ–∞–π–ª—ã —Å API –æ–ø–∏—Å–∞–Ω–∏–µ–º

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∑–∞–¥–∞—á–∏
node tools/generate-context.js --task=combat --services=combat,world

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã  
node tools/validate-architecture.js --service=new-guild-service
```

### –û—Ç–ª–∞–¥–∫–∞
```bash
# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f gateway

# –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres psql -U admin -d mmorpg_db
```

## üéÆ –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥ –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º  
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å–±–æ—Ä–∞
- ‚úÖ –ë–∞–∑–æ–≤—ã–π –∫—Ä–∞—Ñ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- ‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- üîÑ –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (Combat Service)
- üîÑ –°–∏—Å—Ç–µ–º–∞ –ø–æ—Ä—Ç–∞–ª–æ–≤
- üîÑ –£–ª—É—á—à–µ–Ω–Ω—ã–π UI –∫–ª–∏–µ–Ω—Ç–∞

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ
- üìã –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤
- üìã –ì–∏–ª—å–¥–∏–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- üìã –¢–æ—Ä–≥–æ–≤–ª—è –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏
- üìã –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- Redis –¥–ª—è —Å–µ—Å—Å–∏–π –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π PostgreSQL
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ WebSocket —Å–æ–±—ã—Ç–∏—è
- –ò–Ω–¥–µ–∫—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```javascript
// Health-check —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
GET /health
‚Üí {status: 'ok', service: 'gateway', timestamp: 1234567890}
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- Nginx –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- Volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞
1. **–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å** –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç
2. **API –æ—Ç–≤–µ—Ç—ã** –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{success: boolean, data?: any, error?: string}`
3. **WebSocket —Å–æ–±—ã—Ç–∏—è** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ `shared/constants/game.js`
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –≤–æ –≤—Å–µ—Ö async —Ñ—É–Ω–∫—Ü–∏—è—Ö

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –æ—Ç `main`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è LLM
3. –°–ª–µ–¥–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º
4. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
5. –°–æ–∑–¥–∞—Ç—å Pull Request

### LLM Guidelines
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏–∑ `/docs/contexts/`
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API
- –û–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### FAQ
**Q**: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–∞?
**A**: –û–±–Ω–æ–≤–∏—Ç—å `RESOURCE_TYPES` –≤ Resources Service + –¥–æ–±–∞–≤–∏—Ç—å –≤ items —Ç–∞–±–ª–∏—Ü—É

**Q**: –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ WebSocket —Å–æ–±—ã—Ç–∏–µ?
**A**: –î–æ–±–∞–≤–∏—Ç—å –≤ `WEBSOCKET_EVENTS`, –æ–±–Ω–æ–≤–∏—Ç—å Gateway —Ä–æ—É—Ç–∏–Ω–≥

**Q**: –ö–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å?
**A**: –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å stateless, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- Issues: GitHub Issues
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `/docs/` –ø–∞–ø–∫–∞
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã: `architecture/overview.md`

---

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ LLM —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ü—Ä–æ–µ–∫—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —è–∑—ã–∫–æ–≤—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏:

- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** - –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤  
- ‚úÖ **–ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã** - –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ **–ß–µ—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–Ω—è—Ç–Ω—ã–µ API –∏ —Å—Ö–µ–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–π —Ñ–∏—á–∏ —Å LLM: 10-30 –º–∏–Ω—É—Ç**